<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stock Investment Calculator (Romania)</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="favicon.svg" type="image/svg+xml">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <h1>Stock Investment Calculator (Romania)</h1>
        <p class="disclaimer">Tax calculations based on Romanian tax legislation (ANAF). Includes capital gains tax and CASS health insurance contributions.</p>
        
        <div class="input-container">
            <h3>Your Investment Choices</h3>
            <div class="input-section user-choices">
                <div class="input-group">
                    <label for="initialPrice">Initial Discounted Stock Price (€):</label>
                    <input type="number" id="initialPrice" value="42.5" step="0.01">
                </div>
                
                <div class="input-group">
                    <label for="marketPrice">Current Market Price (€):</label>
                    <input type="number" id="marketPrice" value="52" step="0.01">
                </div>
                
                <div class="input-group">
                    <label for="annualPriceChange">Annual Stock Price Growth (%):</label>
                    <input type="number" id="annualPriceChange" value="2" step="0.1">
                    <span class="tooltip">Can be negative for price decrease scenarios</span>
                </div>
                
                <div class="input-group">
                    <label for="futureDiscount">Future Discount Rate (%):</label>
                    <input type="number" id="futureDiscount" value="20" min="0" max="100">
                </div>
                
                <div class="input-group">
                    <label for="annualInvestment">Annual Investment (€):</label>
                    <input type="number" id="annualInvestment" value="1000" step="100">
                </div>
                
                <div class="input-group">
                    <label for="dividend">Annual Dividend per Share (€):</label>
                    <input type="number" id="dividend" value="3" step="0.01">
                </div>
                
                <div class="input-group">
                    <label for="duration">Investment Duration (years):</label>
                    <input type="number" id="duration" value="5" min="1" max="30">
                </div>
            </div>
            
            <h3>Romanian Tax Parameters</h3>
            <div class="input-section tax-parameters">
                <div class="input-group">
                    <label for="capitalGainsTax">Capital Gains Tax Rate (%):</label>
                    <input type="number" id="capitalGainsTax" value="10" min="0" max="100">
                    <span class="tooltip">Romanian standard tax rate for capital gains</span>
                </div>
                
                <div class="input-group">
                    <label for="healthInsuranceRate">Health Insurance Rate (%):</label>
                    <input type="number" id="healthInsuranceRate" value="10" min="0" max="100">
                    <span class="tooltip">CASS rate: 10% in 2025</span>
                </div>
                
                <div class="input-group">
                    <label for="minWage">Monthly Minimum Wage (Lei):</label>
                    <input type="number" id="minWage" value="4050">
                    <span class="tooltip">Romanian minimum wage: 4050 Lei in 2025</span>
                </div>
                
                <div class="input-group">
                    <label for="eurToLei">Exchange Rate (€ to Lei):</label>
                    <input type="number" id="eurToLei" value="4.97" step="0.01">
                </div>
            </div>
            
            <button id="calculate">Calculate</button>
        </div>
        
        <div class="results-section">
            <div class="chart-container">
                <canvas id="investmentChart"></canvas>
            </div>
            
            <div class="summary">
                <h2>Investment Summary</h2>
                <div id="summaryResults"></div>
            </div>
            
            <div class="details">
                <h2>Yearly Breakdown</h2>
                <div id="yearlyBreakdown"></div>
            </div>
            
            <div class="info-section">
                <h2>About Romanian Taxation</h2>
                <p><strong>Capital Gains Tax:</strong> In Romania, a 10% tax applies to capital gains and dividends. This calculator applies this tax to dividend income during the investment period and estimates the tax on capital gains when selling shares at the end.</p>
                
                <p><strong>Health Insurance Contributions (CASS):</strong> In Romania, health insurance contributions are calculated based on thresholds:</p>
                <ul>
                    <li>If income exceeds 6 minimum wages: Health insurance rate (default 10%) of 6 minimum wages</li>
                    <li>If income exceeds 12 minimum wages: Health insurance rate of 12 minimum wages</li>
                    <li>If income exceeds 24 minimum wages: Health insurance rate of 24 minimum wages</li>
                </ul>
                <p>For 2025, the minimum wage is set at 4,050 Lei, making the thresholds 24,300 Lei, 48,600 Lei, and 97,200 Lei respectively.</p>
                <p>The health insurance rate is currently set at 10% in Romanian legislation.</p>
            </div>
        </div>
    </div>
    
    <footer>
        <p>Calculator designed for Romanian tax regulations. Not financial advice. Stock performance may vary.</p>
        <p>&copy; 2025 | <a href="https://github.com/kifbv/anaf-calc" target="_blank">View Source</a></p>
    </footer>
    
    <script src="calculator.js"></script>
</body>
</html>